<!DOCTYPE html>
<html>
<head>
    <title>Stock Monitor</title>
</head>
<body>

<h2>IQOO Stock Monitor</h2>

<textarea id="urls" rows="10" cols="60"
          placeholder="Enter URLs (one per line)"></textarea>

<br><br>
<button onclick="start()">START</button>
<button onclick="stop()">STOP</button>
<button onclick="clearLogs()">CLEAR LOGS</button>


<h3>Live Logs</h3>
<pre id="logBox" style="height:300px; overflow:auto; border:1px solid black;"></pre>

<script>
function start() {
    fetch('/start', {
        method: 'POST',
        headers: {'Content-Type': 'text/plain'},
        body: document.getElementById('urls').value
    });
}

function stop() {
    fetch('/stop', {method:'POST'});
}

setInterval(() => {
    fetch('/logs')
        .then(res => res.json())
        .then(data => {
            document.getElementById("logBox").textContent =
                data.join("\n");
        });
}, 2000);

function clearLogs() {
    fetch('/clear', {method: 'POST'});
    document.getElementById("logBox").textContent = "";
}

</script>

</body>
</html>
